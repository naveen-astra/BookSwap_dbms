{% extends "base.html" %}
{% block content %}

<div class="page-header text-center">
    <div class="container">
        <h1 class="page-title">
            <i class="fas fa-undo me-2"></i>Request Book Return
        </h1>
        <p class="page-subtitle">Ask for your book to be returned</p>
    </div>
</div>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">
                        <i class="fas fa-book me-2"></i>Book Details
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <strong>Title:</strong> {{ book_info.title }}
                        </div>
                        <div class="col-md-6">
                            <strong>Author:</strong> {{ book_info.author }}
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-12">
                            <strong>Currently with:</strong> 
                            <span class="status-badge status-pending">
                                <i class="fas fa-user me-1"></i>{{ book_info.holder_name }}
                            </span>
                        </div>
                    </div>

                    <form method="POST">
                        <div class="mb-4">
                            <label for="message" class="form-label">
                                <i class="fas fa-message me-1"></i>Optional Message
                            </label>
                            <textarea class="form-control" id="message" name="message" rows="4" 
                                      placeholder="Add a polite message explaining why you need the book back (optional)..."></textarea>
                        </div>

                        <div class="d-flex justify-content-between">
                            <a href="{{ url_for('my_books') }}" class="btn btn-secondary">
                                <i class="fas fa-arrow-left me-1"></i>Cancel
                            </a>
                            <button type="submit" class="btn btn-warning">
                                <i class="fas fa-paper-plane me-1"></i>Send Return Request
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="mt-4">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>How it works:</strong> Your return request will be sent to the current holder. 
                    They can choose to accept or decline your request. If accepted, the book will be marked 
                    as returned and available for new swaps.
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Status badge styling for this page */
.status-pending {
    background: rgba(255, 193, 7, 0.2) !important;
    color: #ffd700 !important;
    border: 2px solid #ffc107 !important;
    padding: 0.5rem 1rem !important;
    border-radius: 20px !important;
    font-size: 0.9rem !important;
    font-weight: 600 !important;
    display: inline-flex !important;
    align-items: center !important;
}

.alert-info {
    background: rgba(0, 212, 170, 0.1) !important;
    border: 1px solid rgba(0, 212, 170, 0.3) !important;
    color: #e8e9fa !important;
}
</style>

{% endblock %}